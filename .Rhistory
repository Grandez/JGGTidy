length(grep("^http", "fileName"pepe, ignore.case)))
length(grep("^http", "fileName", ignore.case)))
length(grep("^http", "fileName", ignore.case))
length(grep("^http", "http2", ignore.case))
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
?colnames
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
r <- tidyFile("D:/tmp/uci.zip")
r
head(r, n = 5)
r[1,"activity"]
ac <- read.table("./data/activity_labels.txt", header=F)
ac
r[,"activity"] = ac[r[,"activity"],2]
head(r, n = 5)
r$activity = ac[r$activity,2]
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr, n=6)
summary(rr)
str(rr)
head(rr, n=6)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr, n=6)
summary(rr)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr, n=6)
f <- read.table("./data/features.txt", header=F)
f
f <- as.vector(f[,2])
f
f[grep("mean")]
grep("mean",f)
c <- grep("mean")
grep("mean",f)
f[grep("mean",f)]
length(f)
c <- rep("NULL", 561)
c
c[grep("mean",f)] <- "numeric"
c
c <- rep("NULL", 561)
c[grep("mean | std",f)] <- "numeric"
c
c[grep("mean",f)] <- "numeric"
c
c[grep("mean" | "std",f)] <- "numeric"
c[grep("mean|std",f)] <- "numeric"
c
c <- rep("NULL", 561)
c[grep("mean|std",f)] <- "numeric"
c
c
c <- rep("NULL", 561)
c[grep("mean(|std(",f)] <- "numeric"
c[grep("mean\\(|std\\(",f)] <- "numeric"
cÃ§
c
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
rr
head(rr, n=2)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr, n=2)
swirl()
library(swirl)
swirl()
library(tidyr)
students
?gather
gather(students, sex, count, -grade)
student2
students2
res <- gather(students2,sex_class,count, -grade)
res
colnames(r)
colnames(rr)
res <- gather(students2,sex_class,count, -grade)
?separate
separate(res,sex_class, into=c("sex", "class"))
play()
res
separate(res,sex_class, into=c("sex", "class"))
rr
exit
exit()
quit()
n
next()
play()
nxt()
quit()
exit()
colnames(rr)
rrr <- separate(rr,tBodyAcc-mean()-Y, into=c("t", "BodyAcc-mean()-Y"))
rrr <- separate(rr,"tBodyAcc-mean()-Y", into=c("t", "BodyAcc-mean()-Y"))
head(rrr, n=2)
rrr[1:2,14]
rrr[1:2,1:4]
rrr[1:2,1:6]
rrr <- separate(rr,"tBodyAcc-mean()-X", into=c("t", "BodyAcc-mean()-X"))
rrr <- separate(rr,"tBodyAcc-mean()-X", sep="-")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
colnames(rr)
grep("mean|std\\(\\))\\-","fBodyAccJerk-mean()-X")
grep("mean|std\\(\\))\\-","fBodyAccJerk-mean(j)-X")
grep("(mean|std)\\(\\))\\-","fBodyAccJerk-mean(j)-X")
grep("(mean|std)\\(\\))\\-","fBodyAccJerk-mean()-X")
grep("mean\\(\\))\\-","fBodyAccJerk-mean()-X")
grep("mean\\(\\)\\-","fBodyAccJerk-mean()-X")
grep("mean\\(\\)\\-","fBodyAccJerk-mean(j)-X")
grep("$mean\\(\\)\\-[XYZ]","fBodyAccJerk-mean(j)-X")
grep("$mean\\(\\)\\-[XYZ]","fBodyAccJerk-mean()-X")
grep("$mean\\(\\)-[XYZ]","fBodyAccJerk-mean()-X")
grep("$-[XYZ]","fBodyAccJerk-mean()-X")
grep("-[XYZ]","fBodyAccJerk-mean()-X")
grep("X","fBodyAccJerk-mean()-X")
grep("$X","fBodyAccJerk-mean()-X")
grep("$[X]","fBodyAccJerk-mean()-X")
grep("$[X]","fBodyAccJerk-mean()-X",ignore.case=T)
grep("$X","fBodyAccJerk-mean()-X",ignore.case=T)
grep("X$","fBodyAccJerk-mean()-X",ignore.case=T)
grep("-X$","fBodyAccJerk-mean()-X",ignore.case=T)
grep("-[XYZ]$","fBodyAccJerk-mean()-X",ignore.case=T)
grep("()-[XYZ]$","fBodyAccJerk-mean()-X",ignore.case=T)
grep("mean()-[XYZ]$","fBodyAccJerk-mean()-X",ignore.case=T)
grep("mean\\(\\)-[XYZ]$","fBodyAccJerk-mean()-X",ignore.case=T)
grep("(mean|std)\\(\\)-[XYZ]$","fBodyAccJerk-mean()-X",ignore.case=T)
history
history()
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
colnames(rr)
rrr <- separate(rr,"tBodyAcc-mean()-X", into=c("tBodyAcc", "mean()-X"))
rrr <- separate(rr,"tBodyAcc-mean()-X", into=c("tBodyAcc", "mean()-X"), fill="right")
colnames(rrr)
head(rrr, n=3)
rrr <- separate(rr,"tBodyAcc-mean()-X", into=c("tBodyAcc", "mean()-X"), fill="right")
gather(rr, -subject, -activity)
gather(rr, value=dato, -subject, -activity)
gather(rr, key, value , -subject, -activity)
swirl()
skip()
quit()
rrr
rrr <- gather(rr, key, value , -subject, -activity)
head(rrr, n=3)
?separate
separate(rrr, key, into=c("key", "axis"), sep="-[XYZ]$")
v1 <- separate(rrr, key, into=c("key", "axis"), sep="-[XYZ]$")
head(v1, n=3)
v1 <- separate(rrr, key, into=c("key", "axis"), sep="-", extra="merge")
head(v1, n=3)
v2 <- separate(v1, axis, into=c("type", "axis"), sep="-", extra="merge")
head(v2, n=3)
tail(v2, n=3)
?spread
v3 <- spread(v2, axis, value)
tail(v1, n=3)
v3 <- spread(v1, axis, value)
head(v1, n=3)
v2 <- separate(v1, key, into=c("tipo", "resto"), sep="^(t|f)", extra="merge")
head(v2, n=10)
v2 <- separate(v1, key, into=c("tipo", "resto"), sep="^(t|f)")
head(v2, n=10)
?strsplit
txt <- "Pepe"
substr(txt,1,2)
substr(txt,1,1)
head(v2, n=10)
head(v1, n=10)
v2 <- V1
v2 <- v1
v2$tipo <- substr(v2$key,1,1)
head(v2, n=10)
v2$object <- function(x=v2$key) { if (length(grep("Body",x) == 0) "Gyro"else "Body"}
v2$object <- function(x=v2$key) { if (length(grep("Body",x) == 0)) "Gyro"else "Body"}
grep("Body", v2$key)
obj <- if (length(grep("Body",v2$type) == 0)) "Gyro"else "Body"
obj
head(v2,n=3)
v2$object
v2$object <- NULL
head(v2,n=3)
v2$object <- v2$key
head(v2,n=3)
v2$object <- if (length(grep("Body",v2$object)) > 0) { "Body"}
head(v2,n=3)
v2$object <- if (length(grep("Body",v2$object)) > 0) { "Body"}
txt <- "tBodyAcc-mean()-X"
grep("(t)(Body)[.]+-[XYZ]", txt)
grep("(t)(Body).+-[XYZ]", txt)
grep("(t)(Body|Gravity).+-[XYZ]", txt)
txt1 <- "tBodyAcc-arCoeff()-Y,3"
grep("(t)(Body|Gravity).+-[XYZ]", txt1)
grep("(t)(Body|Gravity).+-[XYZ]$", txt1)
txt2 <- "tGravityAcc-std()-X"
grep("(t)(Body|Gravity).+-[XYZ]$", txt2)
grep("(t)(Body|Gravity).+(mean|std)\\(\\)-[XYZ]$", txt2)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr, n=5)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
grep("(t)(Body|Gravity)Acc(mean|std)\\(\\)-[XYZ]$", txt2)
txt2
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr, n=5)
v1 <- gather(rr, key, value, -subject, -activity)
head(v1, n=5)
v2 <- separate(v1, key, c("t", "medida", "valor"), sep="-")
head(v2, n=5)
v3 <- spread(v2, valor, value)
v3 <- spread(v2, medida, medida)
head(v1, n=5)
v2 <- separate(v1, key, c("t", "medida", "valor"), sep="-", extra="merge")
head(v2, n=5)
v2 <- separate(v1, key, c("t", "medida"), sep="-", extra="merge")
head(v2, n=5)
v3 <- spread(v2, medida, value)
View(v2)
v3 <- v2
v3$ID <- seq.int(nrow(v3))
head(v3, n=5)
v4 <- spread(v3, medida, value)
head(v4, n=5)
View(rr)
?separate
?spread
?separate
v1 <- gather(rr, key, value, -subject, -activity)
head(v1,n=5)
v2 <- separate(v1, key, c("obj", "medida"), sep="-")
v2 <- separate(v1, key, c("obj", "medida"), sep="-", extra="drop")
head(v2,n=5)
v2 <- separate(v1, key, c("obj", "medida", "eje"), sep="-")
head(v2,n=5)
v3 <- unite(v2, medeje, medida, eje)
head(v3,n=5)
v4 <- spread(v3, medeje, value)
?spread
?melt
txt1
txt2
?gsub
gsub("\\(\\)-([XYZ])","_\\1",txt1)
gsub("\\(\\)-([XYZ])","_\\1",txt2)
gsub("\\(\\)-([XYZ])","_\\1",colnames(rr))
cc <- gsub("\\(\\)-([XYZ])","_\\1",colnames(rr))
cc
v1 <- rr
colnames(v1) <- gsub("\\(\\)-([XYZ])","_\\1",colnames(rr))
?separate
?melt
melt(v1, measure=patterns("^tBody", "tGravity"), value.name=c("Acc-mean_X", "Acc-mean_Y","Acc-mean_Z","Acc-std_X","Acc-std_Y","Acc-std_Z"))
?melt
?patterns
library(data.table)
melt(v1, measure=patterns("^tBody", "tGravity"), value.name=c("Acc-mean_X", "Acc-mean_Y","Acc-mean_Z","Acc-std_X","Acc-std_Y","Acc-std_Z"))
patterns
patterns()
install.packages("data.table")
install.packages("data.table")
library(data.table)
patterns()
patterns
dt <- as.data.table(v1)
melt(v1, measure=patterns("^tBody", "tGravity"), value.name=c("Acc-mean_X", "Acc-mean_Y","Acc-mean_Z","Acc-std_X","Acc-std_Y","Acc-std_Z"))
melt(dt, measure=patterns("^tBody", "tGravity"), value.name=c("Acc-mean_X", "Acc-mean_Y","Acc-mean_Z","Acc-std_X","Acc-std_Y","Acc-std_Z"))
melt(dt, measure=patterns("^tBody", "^tGravity"), value.name=c("Acc-mean_X", "Acc-mean_Y","Acc-mean_Z","Acc-std_X","Acc-std_Y","Acc-std_Z"))
melt(dt, measure=patterns("^tBody", "^tGravity"))
melt(dt, measure=patterns("^tBodyACC-std()", "^tGravityAcc-std()"))
melt(dt, measure=patterns("^tBodyAcc-std()", "^tGravityAcc-std()"))
v3 <- melt(dt, measure=patterns("^tBodyAcc-std()", "^tGravityAcc-std()"))
head(v3,n=2)
v3 <- melt(dt, measure=patterns("^tBodyAcc-", "^tGravityAcc-"))
head(v3,n=2)
v3 <- melt(dt, measure=patterns("^tBodyAcc-mean()", "^tGravityAcc-mean()", , "^tGravityAcc-std()", "^tBodyAcc-std()"))
v3 <- melt(dt, measure=patterns("^tBodyAcc-mean\\(\\)", "^tGravityAcc-mean\\(\\)", , "^tGravityAcc-std\\(\\)", "^tBodyAcc-std\\(\\)"))
v3 <- melt(dt, measure=patterns("^tBodyAcc-mean", "^tGravityAcc-mean", , "^tGravityAcc-std", "^tBodyAcc-std"))
v3 <- melt(dt, measure=patterns("^tBodyAcc-mean", "^tGravityAcc-mean", "^tGravityAcc-std", "^tBodyAcc-std"))
head(v3,n=2)
head(dt, n=2)
v3 <- melt(dt, measure=patterns("^tBodyAcc-mean", "^tBodyAcc-std", "^tGravityAcc-mean", "^tGravityAcc-std"))
head(v3,n=2)
v3 <- melt(dt, measure=patterns("^tBodyAcc-mean", "^tBodyAcc-std"))
head(v3,n=2)
dt[,"tBodyAcc*"]
dt
subset(dt, select = grep("tBodyAcc", names(dt))
)
head(v1)
v3 <- v1[,1:2]
head(v3)
aux <- subset(dt, select = grep("tBodyAcc", names(dt))
)
head(aux)
class(aux)
head(v3)
v3 <- cbind(v3, aux)
head(v3)
v3$Objeto <- "body"
head(v3)
history()
source("./R/loadFiles.R")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
left <- df[,1:2]
left <- rr[,1:2]
dt <- as.data.table(rr)
head(dt)
aux1 <- subset(dt, select = grep("tBodyAcc", names(dt)))
head(aux1)
txt <- names(aux1)
txt
gsub(".+(mean|std).+([XYZ]$)", "\\2_\\1",txt)
names(aux1) <- gsub(".+(mean|std).+([XYZ]$)", "\\2_\\1",txt)
head(aux1)
aux1$Object <- "Body"
aux2 <- subset(dt, select = grep("tGravityAcc", names(dt)))
names(aux2) <- gsub(".+(mean|std).+([XYZ]$)", "\\2_\\1",names(aux2))
aux2$Object <- "Gravity"
aux1 <- cbind(left,aux1)
aux2 <- cbind(left,aux2)
df <- rbind(aux1,aux2)
head(df)
df$Object <- as.factor(df$Object)
head(df)
left
left$Object <- "Body"
left
left$Object <- "Gravity"
left
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr)
names(aux2) <- gsub(".+(mean|std).+([XYZ]$)", "\\1_\\2",names(aux2))
head(aux2)
aux2 <- subset(dt, select = grep("tGravityAcc", names(dt)))
head(aux2)
names(aux2) <- gsub(".+(mean|std).+([XYZ]$)", "\\1_\\2",names(aux2))
head(aux2)
?melt
melt(aux2, measure=patters("mean_","std_"))
melt(aux2, measure=patterns("mean_","std_"))
?separate
separate(aux2, sep="_")
head(aux2)
left
head(left)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
View(aux12)
View(aux12)
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
colnames(rr)
head(rr, n=20)
getwd()
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
?strsplit
??str_split
source("./R/loadFiles.R")
source("./R/loadFiles.R")
?require
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
rr <- tidyFile("D:/tmp/uci.zip")
head(rr)
rr %>% filter(Measure == mean) %>% group_by(subject, activity, Object) %>% summarize(X=mean(X), Y=mean(Y), Z=mean(Z))
str(rr)
source("./R/loadFiles.R")
rr %>% filter(Measure == mean) %>% group_by(subject, activity, Object) %>% summarize(X=mean(X), Y=mean(Y), Z=mean(Z))
rr <- tidyFile("D:/tmp/uci.zip")
rr %>% filter(Measure == mean) %>% group_by(subject, activity, Object) %>% summarize(X=mean(X), Y=mean(Y), Z=mean(Z))
str(rr)
filter(rr, Measure==mean)
filter(rr, "Measure"==mean)
rr[Measure==mean]
rr[Measure==1]
rr[,Measure==1]
rr[,rr$Measure==1]
rr[,rr$Measure==mean]
rr[,rr$Measure=="mean"]
rr[,rr$Measure]
rr
head(rr)
filter(rr,subject==3)
filter(rr,rr$subject==3)
rr <- tidyFile("D:/tmp/uci.zip")
View(rr)
dt <- tbl_df(rr)
?tbl_df
??tbl_df
library(dplyr)
dt <- tbl_df(rr)
head(dt)
dt[Object==Body]
dt[dt$Object==Body]
dt[dt$Object=="Body"]
dt[,dt$Object=="Body"]
?filter
filter(dt,Object == "Body")
dt %>% filter(dt,Measure == "mean") %>% group_by(Subject, activity, Object) %>% summarize_all(mean)
dt %>% filter(dt,Measure == "mean") %>% group_by(Subject, activity, Object) %>% summarize(X=mean(X))
dt %>% filter(dt,Measure == "mean") %>% group_by(Subject, activity, Object)
head(dt)
?group_by
dt %>% filter(dt,Measure == "mean")
dt %>% filter(/easure == "mean") %>% group_by(Subject, activity, Object) %>% summarize_all(mean)
dt %>% filter(Measure == "mean") %>% group_by(Subject, activity, Object) %>% summarize_all(mean)
head(dt)
dt %>% filter(Measure == "mean") %>% group_by(subject, activity, Object) %>% summarize_all(mean)
warnings()
dt %>% filter(Measure == "mean") %>% group_by(subject, activity, Object) %>% summarize(X=mean(X))
source("./R/loadFiles.R")
dt <- tidyFile("D:/tmp/uci.zip")
source("./R/loadFiles.R")
dt <- tidyFile("D:/tmp/uci.zip")
dt %>% filter(Measure == "mean") %>% group_by(subject, activity, Object) %>% summarize(X=mean(X), Y=mean(Y), Z=mean(Z))
dt %>% filter(Measure == "mean") %>% group_by(Subject, Activity, Object) %>% summarize(X=mean(X), Y=mean(Y), Z=mean(Z))
res <- dt %>% filter(Measure == "mean") %>% group_by(Subject, Activity, Object) %>% summarize(X=mean(X), Y=mean(Y), Z=mean(Z))
res
write.table(res, file="D:/tmp/result.txt",row.name=F)
